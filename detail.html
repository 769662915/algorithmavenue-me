<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>momenka</title>
    <!-- 外部资源引入保持不变 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="./vue.min.js"></script>
    <script src="./assets/common.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4978406821656132"
     crossorigin="anonymous"></script>
    <script>
        !function (w, d, t) {
            w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(
            var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")
            ;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};
        
            ttq.load('D56IRE3C77U15BU5UR6G');
            ttq.page();
        }(window, document, 'ttq');
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .news-card {
                @apply bg-white rounded-lg shadow-md overflow-hidden mb-6 transition-transform duration-300 hover:shadow-lg hover:-translate-y-1;
            }
            .category-badge {
                @apply text-xs font-bold px-2 py-1 rounded-full text-white inline-block mb-2;
            }
            .breaking-badge {
                @apply bg-secondary text-white text-xs font-bold px-2 py-0.5 rounded mr-2;
            }
            /* 新增菜单样式 */
            .mobile-menu {
                @apply fixed inset-y-0 left-0 bg-white z-50 transform -translate-x-full transition-transform duration-300 lg:hidden;
                width: 70%;
            }
            .mobile-menu.active {
                @apply translate-x-0;
            }
            .menu-overlay {
                @apply fixed inset-0 bg-black bg-opacity-50 z-40 hidden lg:hidden;
            }
            .menu-overlay.active {
                @apply block;
            }
            /* 文章详情页特有样式 */
            .article-content p {
                @apply mb-4 leading-relaxed;
            }
            .article-image {
                @apply w-full h-auto rounded-lg shadow-md mb-6;
            }
            .author-info {
                @apply flex items-center mb-6 p-4 bg-gray-50 rounded-lg;
            }
            .share-button {
                @apply p-2 rounded-full bg-gray-100 hover:bg-primary hover:text-white transition-colors;
            }
            .comment-card {
                @apply bg-white p-4 rounded-lg shadow-sm mb-4;
            }
        }
    </style>
</head>
<body class="bg-dark font-sans text-light antialiased selection:bg-primary selection:text-dark">
    <div id="app" class="flex h-screen overflow-hidden">
        
        <!-- 左侧固定导航栏 (Desktop) - 与 Index 保持一致 -->
        <aside class="hidden md:flex flex-col w-64 border-r border-surface bg-dark z-50">
            <div class="p-8 border-b border-surface">
                <h1 class="text-3xl font-display font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary cursor-pointer" @click="goHome()">
                    MOMENKA
                </h1>
            </div>

            <nav class="flex-1 overflow-y-auto p-6 space-y-2">
                <div class="mb-8">
                    <h3 class="text-xs font-mono text-muted mb-4 uppercase tracking-widest">Modules</h3>
                    <a v-for="item in categories" :key="item.name" 
                       :href="'category.html?category=' + item.name" 
                       class="block py-2 px-4 -mx-4 text-sm font-bold uppercase tracking-wide text-muted hover:text-primary hover:bg-surface transition-all border-l-2 border-transparent hover:border-primary">
                        {{ item.name }}
                    </a>
                </div>
                
                <div class="mt-auto">
                    <button class="w-full flex items-center justify-between px-4 py-3 bg-surface border border-surface rounded text-muted hover:text-primary hover:border-primary transition-all group" @click="goHome()">
                        <span class="text-xs font-mono uppercase">Back to Grid</span>
                        <i class="fas fa-arrow-left group-hover:-translate-x-1 transition-transform"></i>
                    </button>
                </div>
            </nav>
        </aside>

        <!-- 移动端头部 -->
        <header class="md:hidden fixed top-0 left-0 right-0 h-16 bg-dark border-b border-surface z-50 flex items-center justify-between px-4 backdrop-blur-md">
            <h1 class="text-xl font-display font-black tracking-tighter text-primary" @click="goHome()">MOMENKA</h1>
            <button class="text-light p-2" @click="toggleMenu">
                <i class="fas fa-bars text-lg"></i>
            </button>
        </header>

        <!-- 移动端全屏菜单 -->
        <div :class="['fixed inset-0 bg-dark z-[60] flex flex-col p-8 transition-all duration-500', isMenuOpen ? 'opacity-100 translate-x-0' : 'opacity-0 translate-x-full pointer-events-none']">
            <div class="flex justify-between items-center mb-12">
                <span class="text-xs font-mono text-muted">SYSTEM MENU</span>
                <button @click="toggleMenu" class="text-primary text-2xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <nav class="space-y-6">
                <a v-for="item in categories" :key="item.id" :href="'category.html?category=' + item.name" class="block text-3xl font-display font-bold text-light hover:text-primary uppercase">
                    {{ item.name }}
                </a>
            </nav>
        </div>

        <!-- 主内容区 -->
        <main class="flex-1 overflow-y-auto bg-dark scroll-smooth relative">
            <div class="container mx-auto max-w-5xl px-4 md:px-12 py-8 md:py-12 mt-16 md:mt-0" v-if="pageData">
                
                <!-- 文章头部 -->
                <header class="mb-12 border-b border-gray-800 pb-12">
                    <div class="flex flex-wrap items-center gap-4 mb-6 font-mono text-xs">
                        <span class="bg-primary text-black px-2 py-1 font-bold uppercase tracking-wider">{{ pageData.category }}</span>
                        <span class="text-gray-400">// {{ pageData.publish_date }}</span>
                        <div class="ml-auto flex items-center gap-4">
                            <button @click="toggleTheme" class="hover:text-primary transition-colors focus:outline-none" :title="isDark ? 'Switch to Light Mode' : 'Switch to Dark Mode'">
                                <i :class="['fas', isDark ? 'fa-sun' : 'fa-moon', 'text-lg']"></i>
                            </button>
                            <span class="text-gray-600">ID: {{ pageData.id }}</span>
                        </div>
                    </div>
                    
                    <h1 class="text-4xl md:text-6xl font-display font-bold text-light leading-tight mb-8">
                        {{ pageData.title }}
                    </h1>

                    <div class="relative aspect-video w-full overflow-hidden border border-white/10">
                        <img :src="pageData.image_url" :alt="pageData.title" class="w-full h-full object-cover opacity-90">
                        <div class="absolute inset-0 bg-gradient-to-t from-dark to-transparent opacity-50"></div>
                    </div>
                </header>

                <!-- 文章内容 -->
                <article class="prose prose-lg max-w-none mb-16 font-serif" :class="isDark ? 'prose-invert text-gray-300' : 'text-gray-800'">
                    <div v-html="pageData.content"></div>
                </article>

                <div class="ad-container mb-16 border-y border-gray-800 py-8 bg-white/5 min-h-[280px] md:min-h-[120px] flex items-center justify-center relative overflow-hidden">
                    <div class="absolute inset-0 animate-pulse bg-white/5 -z-10"></div>
                    <span class="absolute top-2 left-1/2 -translate-x-1/2 text-xs font-mono text-gray-600 tracking-[0.2em] uppercase">SPONSORED CONTENT</span>
                    <ins class="adsbygoogle"
                            style="display:block; min-width: 300px; min-height: 250px;"
                            data-ad-client="ca-pub-4978406821656132"
                            data-ad-slot="4703604635"
                            data-ad-format="auto"
                            data-full-width-responsive="true">
                    </ins>
                </div>

                <!-- 相关推荐 (Editor's Picks) -->
                <section class="border-t border-surface pt-16">
                    <h3 class="text-2xl font-display font-bold text-light mb-8 flex items-center gap-3">
                        <span class="w-2 h-8 bg-secondary"></span>
                        RELATED TRANSMISSIONS
                    </h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div v-for="pick in editorPicks" :key="pick.id" class="group cursor-pointer border border-white/5 hover:border-secondary/50 bg-tertiary transition-all" @click="toDetail(pick.id)">
                            <div class="aspect-video overflow-hidden">
                                <img :src="pick.image_url" :alt="pick.title" class="w-full h-full object-cover transition-all duration-500">
                            </div>
                            <div class="p-6">
                                <span class="text-secondary text-xs font-mono uppercase mb-2 block">{{ pick.category }}</span>
                                <h4 class="text-xl font-bold text-light group-hover:text-secondary transition-colors mb-3">
                                    {{ pick.title }}
                                </h4>
                                <p class="text-muted text-sm line-clamp-2">
                                    {{ pick.summary }}
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <footer class="mt-24 border-t border-surface pt-12 pb-8 text-center text-xs font-mono text-muted">
                    <div class="flex justify-center gap-6 mb-4">
                        <a href="privacy.html" class="hover:text-primary transition-colors">Privacy</a>
                        <a href="terms.html" class="hover:text-primary transition-colors">Terms</a>
                        <a href="contact.html" class="hover:text-primary transition-colors">Contact</a>
                        <a href="about.html" class="hover:text-primary transition-colors">About</a>
                    </div>
                    <p>&copy; 2025 MOMENKA INC. // END OF FILE</p>
                </footer>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var googleScript = document.createElement('script');
            googleScript.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4978406821656132';
            googleScript.crossOrigin = 'anonymous';
            googleScript.async = true;
            document.head.appendChild(googleScript);
        });
        
        new Vue({
            el: '#app',
            mixins: [AppMixin],
            data() {
                return {
                    // isMenuOpen, searchQuery 已在 Mixin 中定义
                    pageData: '',
                    relatedTopics: [
                        { id: 1, name: 'Sinner Live Tennis' },
                        { id: 2, name: 'Sinner Tennis Live' },
                        { id: 3, name: 'Torneo Tennis Torino Sinner' },
                        { id: 4, name: 'Sinner Tennis Eta' },
                        { id: 5, name: 'Tennis Sinner Oggi Tv' }
                    ],
                    // categories 已在 Mixin 中定义
                    archives: [
                        { id: 1, date: 'September 2025' },
                        { id: 2, date: 'August 2025' },
                        { id: 3, date: 'July 2025' },
                        { id: 4, date: 'June 2025' }
                    ],
                    editorPicks: []
                }
            },
             mounted() {
                fetch('assets/articles.json')
                .then(response => {
                    // 检查响应状态是否成功
                    if (!response.ok) {
                    throw new Error('网络响应不正常');
                    }
                    // 解析 JSON 数据
                    return response.json();
                })
                .then(data => {
                    const id = this.getUrlParams().id
                    data.forEach(item => {
                        if (item.id == id) {
                            this.pageData = item
                            console.log('获取到的数据:', item);
                        }
                    })
                    this.editorPicks = this.getUniqueRandomValues(data, 2)
                })
                .catch(error => {
                    // 处理错误
                    console.error('请求失败:', error);
                });
                this.getCategories()

                setTimeout(function() {
                    if (typeof(adsbygoogle) !== 'undefined') {
                        adsbygoogle = window.adsbygoogle || [];
                        adsbygoogle.push({});
                    }
                }, 500);
            },
            methods: {
                // Mixin 中包含了 getCategories, toggleMenu, getUrlParams, goHome, toSearch, getUniqueRandomValues
            }
        });
    </script>
    <!-- <script src="assets/adTracker.js"></script>
    <script src="assets/adDisplayTracker.js"></script> -->
</body>
</html>
